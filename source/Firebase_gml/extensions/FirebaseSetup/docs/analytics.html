<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>Analytics - GMEXT-Firebase</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
        <link href="assets/css/gmext_style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Analytics";
        var mkdocs_page_input_path = "analytics.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/gml.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> GMEXT-Firebase
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="home.html">Firebase</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="platform_setup.html">Platform Setup</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Analytics</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#analytics-overview">Analytics Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#setup">Setup</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guides_analytics.html">Analytics Guides</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guides_authentication.html">Authentication Guides</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="logins_authentication.html">Authentication Logins</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="cloud_functions.html">Cloud Functions</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="setup_cloud_functions.html">Cloud Functions Guides</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="cloud_messaging.html">Cloud Messaging</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guides_cloud_messaging.html">Cloud Messaging Guides</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="cloud_storage.html">Cloud Storage</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guides_cloud_storage.html">Cloud Storage Guides</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="crashlytics.html">Crashlytics</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guides_crashlytics.html">Crashlytics Guides</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="firestore.html">Firestore</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guides_firestore.html">Firestore Guides</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="performance.html">Performance</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guides_performance.html">Performance Guides</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="realtime.html">Realtime</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guides_realtime.html">Realtime Guides</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="remote_config.html">Remote Config</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="guides_remote_config.html">Remote Config Guides</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="local_notifications.html">Local Notifications</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">GMEXT-Firebase</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Analytics</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/YoYoGames/GMEXT-Firebase/edit/master/docs/analytics.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p><a id="top"></a></p>
<h1 id="analytics"><strong>Analytics</strong></h1>
<h2 id="analytics-overview">Analytics Overview</h2>
<p><img alt="" src="assets/analyticsBanner.png" /></p>
<p>Google Analytics for Firebase provides free, unlimited reporting on up to 500 distinct events. The SDK automatically captures certain key events and user properties, and you can define your own custom events to measure the things that uniquely matter to your business.
Analytics surfaces data about user behavior in your iOS and Android and Web apps, enabling you to make better decisions about your app or game and marketing optimization. View crash data, notification effectiveness, deep-link performance, in-app purchase data, and more.
Check the <a href="https://firebase.google.com/products/analytics">official page</a> for more information.</p>
<h2 id="setup">Setup</h2>
<p>Before starting to use any Firebase extensions, you are required to follow some initial configuration steps. However if you've already done these for any of the other modules you can skip this configuration section and go straight to using the API functions.</p>
<ul>
<li><a href="guides_analytics.html#Create_Project">Create Project</a></li>
<li><a href="platform_setup.html">Platform Setup</a></li>
</ul>
<h2 id="functions">Functions</h2>
<p>The following functions are given for working with Analytics extension:</p>
<ul>
<li><a href="analytics.html#firebaseanalytics_logevent">FirebaseAnalytics_LogEvent</a></li>
<li><a href="analytics.html#firebaseanalytics_resetanalyticsdata">FirebaseAnalytics_ResetAnalyticsData</a></li>
<li><a href="analytics.html#firebaseanalytics_setanalyticscollectionenabled">FirebaseAnalytics_SetAnalyticsCollectionEnabled</a></li>
<li><a href="analytics.html#firebaseanalytics_setdefaulteventparameters">FirebaseAnalytics_SetDefaultEventParameters</a></li>
<li><a href="analytics.html#firebaseanalytics_setsessiontimeoutduration">FirebaseAnalytics_SetSessionTimeoutDuration</a></li>
<li><a href="analytics.html#firebaseanalytics_setuserid">FirebaseAnalytics_SetUserId</a></li>
<li><a href="analytics.html#firebaseanalytics_setuserproperty">FirebaseAnalytics_SetUserProperty</a></li>
</ul>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="firebaseanalytics_logevent">FirebaseAnalytics_LogEvent</h1>
<p>This function logs an app event. The event can have up to 25 parameters. Note that events with the same name must have the same parameters. Up to 500 event names are supported. Using predefined <a href="https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/FirebaseAnalytics.Event">FirebaseAnalytics.Event</a> and/or <a href="https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/FirebaseAnalytics.Param">FirebaseAnalytics.Param</a> is recommended for optimal reporting.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">FirebaseAnalytics_LogEvent(event, params)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>event</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The event data (available <a href="https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/FirebaseAnalytics.Event">events</a> reference)</td>
</tr>
<tr>
<td>params</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The data as a <strong>JSON formatted</strong> string (available <a href="https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/FirebaseAnalytics.Param">params</a> reference)</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">var _data = { screen_name : room_get_name(room) };

FirebaseAnalytics_LogEvent("screen_view", json_stringify(_data));</code></pre>
In the code sample above we will submit a log to the event <code>"screen_view"</code> (see <a href="https://firebase.google.com/docs/reference/android/com/google/firebase/analytics/FirebaseAnalytics.Event#SCREEN_VIEW">event</a> details), so first create a data struct with a parameter named <code>"screen_name"</code> (this is one of the allowed parameters) and convert it to a string using the <a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/File_Handling/Encoding_And_Hashing/json_stringify.htm">json_stringify</a> function.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="firebaseanalytics_resetanalyticsdata">FirebaseAnalytics_ResetAnalyticsData</h1>
<p>This function clears all analytics data for the app from the current device and resets the app instance ID.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This will not clear analytics previously collected by the app that have already been pushed to the server.</p>
</div>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">FirebaseAnalytics_ResetAnalyticsData()</code></pre>
</blockquote>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">if (global.stopDataCollection)
{
    FirebaseAnalytics_ResetAnalyticsData();
    FirebaseAnalytics_SetAnalyticsCollectionEnabled(false);
}</code></pre>
The code above will check if a global variable is set to true (<code>global.stopDataCollection</code>) and if so we will clear the local collected data for this extension and disable the analytics data collection (using the function <a href="analytics.html#firebaseanalytics_setanalyticscollectionenabled">FirebaseAnalytics_SetAnalyticsCollectionEnabled</a>).</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="firebaseanalytics_setanalyticscollectionenabled">FirebaseAnalytics_SetAnalyticsCollectionEnabled</h1>
<p>This function is used to enable or disable analytics collection for the app on the current device. This setting is persisted across app sessions. By default it is enabled.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">FirebaseAnalytics_SetAnalyticsCollectionEnabled(enable)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>enable</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Boolean</a></td>
<td>Whether or not analytics collection should be enabled.</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">if (global.stopDataCollection)
{
    FirebaseAnalytics_ResetAnalyticsData();
    FirebaseAnalytics_SetAnalyticsCollectionEnabled(false);
}</code></pre>
The code above will check if a global variable is set to true and if so we will clear the local collected data (using the function <a href="analytics.html#firebaseanalytics_resetanalyticsdata">FirebaseAnalytics_ResetAnalyticsData</a>) for this extension and disable the analytics data collection.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="firebaseanalytics_setdefaulteventparameters">FirebaseAnalytics_SetDefaultEventParameters</h1>
<p>This function sets &quot;default&quot; parameters that will be provided with every event logged from the SDK, including automatic ones. The values passed in the parameters bundle will be added to the map of default event parameters. These parameters persist across app runs. They are of lower precedence than event parameters, so if an event parameter and a parameter set using this function have the same name, the value of the event parameter will be used. The same limitations on event parameters apply to default event parameters.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">FirebaseAnalytics_SetDefaultEventParameters(parameters)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>parameters</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>A <strong>JSON</strong> <strong>formatted</strong> string of a struct to be added to <strong>every</strong> event. These parameters will be added to the default event parameters, replacing any existing parameter with the same name. Valid parameter values are <strong>string</strong> and <strong>double</strong> . Setting a key's value to <code>pointer_null</code> will clear that parameter.</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">var _parameters = {
    playerName: "Hero",
    bossName: pointer_null,
};

FirebaseAnalytics_SetDefaultEventParameters(json_stringify(_parameters));</code></pre>
With the code above we are setting the default parameters to be used on all further calls to <a href="analytics.html#firebaseanalytics_logevent">FirebaseAnalytics_LogEvent</a>. First we create a struct (<code>_parameters</code>) with a <code>"playerName"</code> and <code>"bossName"</code> keys, the boss name is set to <code>pointer_null</code> meaning it will be removed from the set of default event parameters.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="firebaseanalytics_setsessiontimeoutduration">FirebaseAnalytics_SetSessionTimeoutDuration</h1>
<p>This function sets the duration of inactivity (in milliseconds) that terminates the current session. The default value is 1800000 (30 minutes).</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">FirebaseAnalytics_SetSessionTimeoutDuration(milliseconds)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>milliseconds</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Overview/Data_Types.htm">Real</a></td>
<td>Session timeout duration in milliseconds.</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">FirebaseAnalytics_SetSessionTimeoutDuration(3600000); //1 hour</code></pre>
The code above sets the timeout duration to 1 hour, meaning that if no events are logged within this timeout the session will be terminated.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="firebaseanalytics_setuserid">FirebaseAnalytics_SetUserId</h1>
<p>This function sets the user ID property. This feature must be used in accordance with <a href="https://www.google.com/policies/privacy">Google's Privacy Policy</a>.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">FirebaseAnalytics_SetUserId(userID)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>userID</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The user ID string  to assign to the user of this app on this device, which must be non-empty and no more than 256 characters long. Setting the ID to <code>pointer_null</code> removes the user ID.</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">FirebaseAnalytics_SetUserId("myUser123");</code></pre>
The above code will set the user ID to the string <code>"myUser123"</code>.</p>
<p><br></p>
<p><br></p>
<hr />
<p align="right"><a href="#top">Back To Top</a></p>

<h1 id="firebaseanalytics_setuserproperty">FirebaseAnalytics_SetUserProperty</h1>
<p>This function sets a user property to the given value. Up to 25 user property names are supported. Once set, user property values persist throughout the app life cycle and across sessions.</p>
<p><br></p>
<p><strong>Syntax:</strong></p>
<blockquote>
<pre class="highlight"><code class="language-gml">FirebaseAnalytics_SetUserProperty(key, value)</code></pre>
</blockquote>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The name of the user property to set. Should contain 1 to 24 <strong>alphanumeric</strong>  characters or underscores and must start with an <strong>alphabetic</strong> character.<br> <br> &gt; [!WARNING]<br>&gt;<br>&gt;  The <code>"firebase_"</code>, <code>"google_"</code> and <code>"ga_"</code> prefixes are reserved and should not be used for user property names.</td>
</tr>
<tr>
<td>value</td>
<td><a href="https://manual.gamemaker.io/monthly/en/GameMaker_Language/GML_Reference/Strings/Strings.htm">String</a></td>
<td>The value of the user property. Values can be up to 36 characters long. Setting the value to <code>pointer_null</code> removes the user property.</td>
</tr>
</tbody>
</table>
<p><br></p>
<p><br></p>
<p><br></p>
<p><strong>Returns:</strong></p>
<blockquote>
<p>N/A</p>
</blockquote>
<p><br></p>
<p><strong>Example:</strong></p>
<p><pre class="highlight"><code class="language-gml">FirebaseAnalytics_SetUserProperty("location", "UK");</code></pre>
The code above will set a user property <code>"location"</code> to the value <code>"UK"</code>.</p>
<p><br></p>
<p><br></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="platform_setup.html" class="btn btn-neutral float-left" title="Platform Setup"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="guides_analytics.html" class="btn btn-neutral float-right" title="Analytics Guides">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p><p align="center">GameMaker 2024</p></p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/YoYoGames/GMEXT-Firebase" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="platform_setup.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="guides_analytics.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="js/jquery-3.6.0.min.js"></script>
    <script>var base_url = ".";</script>
    <script src="js/theme_extra.js"></script>
    <script src="js/theme.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/gml.min.js"></script>
      <script src="assets/js/gmext_script.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
